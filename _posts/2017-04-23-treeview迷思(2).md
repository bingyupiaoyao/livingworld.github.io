---
layout: post
title: "treeview迷思(2)"
date: 2017-04-23 12:00:00 +0800 
categories: c#
tag: [asp.net]
---   

# 20170423
##　treeview按流域、地名展示水库
- 类似于省市结构树状图
    + [ASP.NET 递归将分类绑定到 TreeView：](http://www.cnblogs.com/Ferry/archive/2010/12/14/1905283.html)
    + [动态构建TreeView(中国省市区)](http://blog.csdn.net/yayun0516/article/details/41864201)

    +  [提高树形控件的刷新效率:asp.net的UpdatePanel控件](http://blog.csdn.net/yayun0516/article/details/41865733)
    +  [asp.net中TreeView的大数据加载速度优化](http://blog.csdn.net/j805440805/article/details/51093664)
    +  http://www.cnblogs.com/linyijia/p/3497503.html
    
###　treeview加载过慢的问题

调整用户控件的可见性，可很好的提高加载速度。
```
    TreeViewUserControl.Visible = false;
```

## treeview
- 没有站码信息，无法采用` newNode.Value = row["ADDVCD"].ToString();`及`DataSet ResultSet = RunQuery("Select STNM From ST_STBPRP_B Where ADDVCD=" + node.Value);`的方式判断，如果有键值，意味着可以无需重复添加。

思考：可以将sql数据转换成JSON数据，进而加载到asp:treeview上

[Ajax.NET Professional](http://www.ajaxpro.info/)
[](https://www.sencha.com/forum/showthread.php?5277-Build-JSON-Data-for-tree-from-SQL-Server-with-ASP-NET)

### treeview全部选中

- [TreeView Check Uncheck all CheckBoxes ( CheckBox ) using JavaScript and jQuery in ASP.Net](https://www.aspsnippets.com/Articles/TreeView-Check-Uncheck-all-CheckBoxes-CheckBox-using-JavaScript-and-jQuery-in-ASPNet.aspx)


刚才倒是无意中撞见了一种方法：

只是该方法针对有父节点的代码比较有效，可以思考下，没有父节点，如何合理使用呢？
