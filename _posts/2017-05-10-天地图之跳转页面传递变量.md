---
layout: post
title: "asp:treeview之数据调用"
date: 2017-05-10
description: "asp:treeview之数据调用"
tag: asp.net
---   

## 今日任务
- [ ] treeview选中item，点击button查询对应站点的数据库信息。
- [ ] 

## 获得treeview中checkbox参数值
### 思路
- 获取checkbox value值
关键是这个值如何定义成公共变量，传递给web控件呢？

- 在主程序文件中，每次加载都会使TreeView不可见，如何调整？

```
protected void Page_Load(object sender, EventArgs e)
    {
        
        //RadioButton1.Enabled = false;

        TreeViewUserControl.Visible = false;//大的bug，每次加载都会消失，所以
        TreeViewUserControl2.Visible = false;


```

- button控件加载table和chart


```
protected void Button1_Click(object sender, EventArgs e)
    {
        
        //RR_INQ_chart.StartDate = this.DateTextBox1.Text.Trim();
        //RR_INQ_chart.EndDate = this.DateTextBox2.Text.Trim();
        //RR_INQ_table.StartDate = this.DateTextBox1.Text.Trim();
        //RR_INQ_table.EndDate = this.DateTextBox2.Text.Trim();
        LoadControl("RR_INQ_table.ascx");
        LoadControl("RR_INQ_chart.ascx");
    }
```

- TreeViewUserControl中，如何将选中value值传递给tableUserControl中呢？
    + 定义公共变量进行覆盖？但这个公共变量是在什么地方定义呢？

### 检索关键词：How to pass value from one user control to another user control using c#.net？

### 检索关键词：How to pass value from page to User Control?

### 检索关键词：how to pas value from userctorl to page?

### 天地图打开异常

```
异常信息 :Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Could not open connection
```